from django.test import TestCase
# from rest_framework.test import APITestCase
# from .models import Character
from .sentimentAnalyzer import sentiment_analyzer


class UserDataTestCase(TestCase):
    def setUp(self):
        self.user_data = ['sorry', 'hurt', 'sure', 'thank', 'goodness', 'prince', 'hans', 'southern', 'isles', 'princess', 'lady', 'boy', 'like', 'formally', 'apologize', 'hitting', 'princess', 'arendelle', 'horseand', 'every', 'moment', 'glad', 'caught', 'white', 'like', 'twelve', 'older', 'brothers', 'three', 'pretended', 'invisible', 'literallyfor', 'two', 'years', 'brothers', 'would', 'never', 'shut', 'love', 'crazy', 'thinking', 'thing', 'like', 'gonna', 'say', 'say', 'something', 'crazy', 'marry', 'majesty', 'blessing', 'absolutely', 'majesty', 'may', 'ease', 'anna', 'look', 'fjord', 'right', 'know', 'right', 'best', 'way', 'slipped', 'ice', 'anna', 'dangerous', 'coming', 'honor', 'letting', 'sure', 'trust', 'want', 'getting', 'hurt', 'cloak', 'anyone', 'need', 'cloak', 'castle', 'open', 'soup', 'hot', 'gl�gg', 'great', 'hall', 'pass', 'princess', 'anna', 'given', 'orders', 'not', 'question', 'princess', 'left', 'charge', 'not', 'hesitate', 'protect', 'arendelle', 'treason', 'whoa', 'whoa', 'whoa', 'boy', 'easy', 'easy', 'princess', 'anna', 'trouble', 'need', 'volunteers', 'find', 'find', 'princess', 'anna', 'guard', 'harm', 'come', 'queen', 'understand', 'queen', 'elsa',
                          'monster', 'fear', 'let', 'kill', 'anna', 'not', 'returned', 'would', 'stop', 'winter', 'bring', 'back', 'summerplease', 'going', 'back', 'look', 'princess', 'anna', 'anything', 'happens', 'anna', 'cold', 'happened', 'said', 'never', 'hurt', 'anna', 'true', 'love', 'kiss', 'anna', 'someone', 'loved', 'thirteenth', 'line', 'kingdom', 'stand', 'chance', 'knew', 'marry', 'throne', 'somewhere', 'heir', 'elsa', 'preferable', 'course', 'one', 'getting', 'anywhere', 'desperate', 'love', 'willing', 'marry', 'like', 'figured', 'married', 'stage', 'little', 'accident', 'elsa', 'doomed', 'dumb', 'enough', 'left', 'kill', 'elsa', 'bring', 'back', 'summer', 'match', 'elsa', 'hand', 'hero', 'going', 'save', 'arendelle', 'destruction', 'already', 'princess', 'anna', 'isdead', 'killed', 'queen', 'elsa', 'putting', 'least', 'got', 'say', 'marriage', 'vowsbefore', 'died', 'arms', 'heavy', 'heart', 'charge', 'queen', 'elsa', 'arendelle', 'treason', 'sentence', 'death', 'elsa', 'run', 'sister', 'returned', 'mountain', 'weak', 'cold', 'said', 'froze', 'heart', 'tried', 'save', 'late', 'skin', 'ice', 'hair', 'turned', 'white', 'sister', 'dead', 'anna', 'froze', 'heart', 'whoa', 'whoa', 'whoa']

    def test_get_matched_villain(self):
        snowball = {'name': 'Snowball', 'words': ['shut', 'human', 'aieee', 'ripper', 'ripper', 'ripper', 'busting', 'outta', 'revolution', 'begun', 'liberated', 'forever', 'domesticated', 'never', 'yeeeaahhh', 'beat', 'flushed', 'pets', 'thrown', 'away', 'owners', 'revenge', 'like', 'club', 'biting', 'scratching', 'huh', 'think', 'pets', 'yeah', 'got', 'stench', 'domestication', 'chose', 'side', 'gon', 'burn', 'ooooo', 'woo', 'cold', 'blooded', 'man', 'remind', 'boy', 'ricky', 'died', 'though', 'rip', 'ricky', 'know', 'truth', 'struggle', 'could', 'use', 'muscle', 'alright', 'look', 'tell', 'bust', 'outta', 'understand', 'work', 'alright', 'guys', 'sewers', 'waiting', 'not', 'playing', 'said', 'sewers', 'long', 'live', 'revolution', 'suckers', 'password', 'llook', 'leader', 'leader', 'not', 'recite', 'password', 'leader', 'makes', 'password', 'idiots', 'everybody', 'making', 'new', 'password', 'right', 'new', 'password', 'ask', 'ahead', 'snowball', 'comes', 'sudden', 'stop', 'sewer', 'tunnel', 'opens', 'vast', 'cavern', 'like', 'room', 'water', 'running', 'bits', 'refracted', 'light', 'coming', 'small', 'cracks', 'concrete', 'strange', 'bits', 'moss', 'vegetation', 'growing', 'feels', 'like', 'kind', 'subterranean', 'jungle', 'bizarre', 'world', 'within', 'world', 'welcome', 'underbelly', 'brothers', 'home', 'flushed', 'pets', 'absolutely', 'shocked', 'max', 'duke', 'stare', 'cavernous', 'room', 'realizing', 'inhabited', 'snakes', 'lizards', 'newts', 'frogs', 'fish', 'scorpions', 'tarantulasevery', 'kind', 'slithering', 'creature', 'imaginable', 'along', 'rejected', 'animals', 'like', 'cats', 'dogs', 'ferrets', 'hamsters', 'etc', 'brothers', 'sisters', 'see', 'returned', 'surface', 'two', 'new', 'recruits', 'guys', 'ownerkillers', 'hey', 'hey', 'settle', 'guys', 'want', 'tell', '‘em', 'ahead', 'tell', 'whole', 'story', 'took', 'owner', 'leave', 'nothing', 'love', 'gory', 'detail', 'yeah', 'tell', 'right', 'story', 'bored', 'death', 'booooring', 'give', 'detail', 'hurt', 'someone', 'spoon', 'scoop', 'spoon', 'many', 'people', 'wan', 'know', 'kill', 'somebody', 'spoon', 'blender', 'ooooh', 'blended', 'somebody', 'blender', 'guys', 'please', 'tell', 'blender', 'wooo', 'hear', 'know', 'like', 'ricky', 'rest', 'peace', 'ricky', 'soldier', 'ready', 'kill', 'humans', 'sight', 'see', 'ricky', 'everybody', 'else', 'need', 'pep', 'talk', 'not', 'two', 'brothers', 'see', 'suffered', 'hands', 'man', 'mean', 'take', 'instance', 'rabbit', 'kids', 'parties', 'bunny', 'tricks', 'went', 'style', 'owner', 'owner', 'went', 'left', 'magic', 'behind', 'made', 'disappearfrom', 'life', 'mean', 'yes', 'humans', 'say', 'love', 'turn', 'around', 'throw', 'like', 'garbage', 'right', 'seamonkeys', 'yeah', 'alright', 'guys', 'joining', 'brotherhood', 'initiation', 'time', 'summon', 'viper', 'proof', 'allegiance', 'receive', 'bite', 'one', 'fanged', 'halfblind', 'viper', 'fueled', 'diet', 'anti',
                                                  'human', 'rage', 'wants', 'first', 'tiny', 'dogcan', 'call', 'tiny', 'dog', 'fits', 'admit', 'tiny', 'gon', 'first', 'everybody', 'going', 'first', 'flushed', 'pets', 'cheer', 'push', 'max', 'toward', 'viper', 'max', 'wriggles', 'free', 'quickly', 'hides', 'beneath', 'duke', 'not', 'true', 'said', 'burned', 'collars', 'deserve', 'marked', 'viper', 'deserve', 'eaten', 'squished', 'sacred', 'viper', 'flapjackoh', 'viperviper', 'better', 'place', 'ricky', 'never', 'nothing', 'nobodywell', 'bit', 'lot', 'people', 'viper', 'technically', 'might', 'actually', 'deserve', 'might', 'something', 'long', 'overdue', 'came', 'like', 'not', 'watch', 'stop', 'running', 'dummies', 'stop', 'right', 'graaaahhhhh', 'graaaaaaah', 'sees', 'max', 'duke', 'motoring', 'away', 'ferry', 'going', 'brooklyn', 'not', 'talking', 'hipster', 'real', 'estate', 'trends', 'talking', 'vengeance', 'tattoo', 'death', 'coming', 'brooklyn', 'got', 'buck', 'teeth', 'cotton', 'tail', 'worry', 'viper', 'not', 'forgotten', 'enraged', 'sad', 'avenged', 'viper', 'believe', 'look', 'battle', 'plans', 'laid', 'right', 'hereeveryone', 'looks', 'well', 'got', 'really', 'look', 'understand', 'like', 'guys', 'right', 'see', 'brooklyn', 'gon', 'get', 'dogs', 'bam', 'bam', 'hahahaha', 'see', 'saying', 'bottom', 'line', 'coming', 'right', 'tiny', 'dog', 'big', 'fat', 'brown', 'dog', 'gon', 'get', 'max', 'max', 'max', 'max', 'max', 'max', 'gon', 'get', 'wait', 'know', 'tiny', 'dog', 'believe', 'know', 'tiny', 'dog', 'cool', 'small', 'world', 'funny', 'thing', 'get', 'derick', 'idiot', 'get', 'away', 'got', 'one', 'yes', 'tiny', 'dog', 'got', 'friend', 'advantage', 'ignore', 'happened', 'okay', 'yes', 'excellent', 'closing', 'groundbreaking', 'evil', 'behavior', 'people', 'groundbreaking', 'lightbulb', 'went', 'brain', 'bunny', 'idea', 'flushed', 'pets', 'pursue', 'max', 'yaah', 'max', 'closing', 'van', 'thenmax', 'turns', 'sees', 'snowball', 'company', 'closing', 'thought', 'tiny', 'dog', 'yaah', 'yaah', 'yaah', 'aiee', 'jab', 'jab', 'jab', 'body', 'blow', 'body', 'blow', 'karate', 'chop', 'neck', 'end', 'pov', 'max', 'snowball', 'watch', 'helplessly', 'doors', 'closethey', 'run', 'van', 'drives', 'away', 'nooh', 'kills', 'say', 'got', 'join', 'forces', 'man', 'wooohooo', 'make', 'great', 'team', 'tiny', 'dog', 'well', 'mainly', 'hard', 'work', 'helping', 'pothole', 'heh', 'know', 'know', 'well', 'always', 'keeping', 'check', 'yeah', 'see', 'hit', 'raccoon', 'not', 'president', 'remember', 'feel', 'heroic', 'handsome', 'little', 'wet', 'still', 'look', 'good', 'look', 'good', 'yes', 'need', 'lift', 'tattoo', 'man', 'feel', 'sorry', 'got', 'run', 'home', 'owners', 'not', 'back', 'primary', 'mission', 'downfall', 'human', 'race', 'humans', 'jab', 'jab', 'jab', 'body', 'blow', 'body', 'blow', 'breakaway', 'move', 'begins', 'pet', 'awwww', 'uhhh', 'going', 'welcome', 'dogs', 'guys', 'look', 'weird', 'hurry', 'come']}
        jigsaw = {'name': 'Jigsaw', 'words': ['rise', 'shine', 'adam', 'probably', 'wondering', 'tell', 'might', 'might', 'room', 'die', 'simply', 'sat', 'shadows', 'watching', 'others', 'live', 'lives', 'voyeurs', 'see', 'look', 'mirror', 'see', 'strange', 'mix', 'someone', 'angry', 'yet', 'apathetic', 'mostly', 'pathetic', 'going', 'watch', 'die', 'today', 'adam', 'something', 'adam', 'looks', 'frightened', 'not', 'sure', 'entire', 'meaning', 'message', 'gordon', 'wake', 'call', 'every', 'day', 'working', 'life', 'given', 'people', 'news', 'going', 'die', 'soon', 'cause', 'death', 'aim', 'game', 'kill', 'adam', 'six', 'clock', 'man', 'room', 'much', 'poison', 'blood', 'thing', 'left', 'shoot', 'ways', 'win', 'hidden', 'around', 'remember', 'marks', 'spot', 'treasure', 'not', 'kill', 'adam', 'alison', 'diana', 'die', 'gordon', 'leave', 'room', 'rot', 'let', 'game', 'begin', 'looks', 'man', 'face', 'clearly', 'say', 'shit', 'tape', 'ends', 'lawrence', 'stands', 'alison', 'diana', 'die', 'gordon', 'leave', 'room', 'rot', 'let', 'game', 'begin', 'let', 'game', 'begin', 'heart', 'lawrence', 'stops', 'tape', 'hello', 'paul', 'perfectly', 'healthy', 'sane', 'middleclass', 'male', 'yet', 'last', 'month', 'ran', 'straight', 'razor', 'across', 'wrists', 'cut', 'truly', 'wanted', 'die', 'want', 'attention', 'tonight', 'show', 'irony', 'want', 'die', 'stay', 'want', 'live', 'cut', 'find', 'path', 'razor', 'wire', 'door', 'hurry', 'door', 'lock', 'room', 'becomes', 'tomb', 'much', 'blood', 'shed', 'stay', 'alive', 'paul', 'hello', 'mark', 'sick', 'many', 'photos', 'let', 'put', 'socalled', 'illness', 'test', 'right', 'slowacting', 'poison', 'veins', 'antidote', 'safe', 'combination', 'safe', 'written', 'wall', 'hurry', 'program', 'watch', 'step', 'way', 'flammable', 'substance', 'smeared', 'body', 'would', 'careful', 'candle', 'people', 'burned', 'act', 'might', 'revenge', 'see', 'mark', 'desperately', 'going', 'around', 'room', 'holding', 'candle', 'looking', 'walls', 'trying', 'find', 'combination', 'camera', 'goes', 'back', 'forth', 'times', 'spedup', 'shot', 'turning', 'lock', 'safe', 'trying', 'program', 'combination', 'safe', 'moves', 'circle', 'clockwise', 'gets', 'facing', 'right', 'front', 'flame', 'candle', 'flares', 'engulfs', 'shot', 'flaring', 'closeup', 'crime', 'scene', 'photo', 'mark', 'charred', 'face', 'shot', 'moves', 'back', 'trio', 'detectives', 'sing', 'holding', 'tape', 'recorder', 'hello', 'amanda', 'know', 'know', 'want', 'play', 'game', 'happens', 'lose', 'device', 'wearing', 'hooked', 'upper', 'lower', 'jaws', 'timer', 'back', 'goes', 'mouth', 'permanently', 'ripped', 'open', 'think', 'like', 'reverse', 'bear', 'trap', 'show', 'video', 'pans', 'back', 'view', 'doll', 'device', 'doll', 'head', 'moves', 'looks', 'device', 'camera', 'zooms', 'timer', 'ticks', 'away', 'seconds', 'later', 'snap', 'device', 'springs', 'fake', 'head', 'crushed', 'explodes', 'amanda', 'shrieks', 'eyes', 'widening', 'video', 'switches', 'back', 'close', 'doll', 'one', 'key', 'open', 'device', 'stomach', 'dead', 'cellmate', 'look', 'around', 'amanda', 'know', 'not', 'lying', 'better', 'hurry', 'live', 'die', 'make', 'choice', 'video', 'goes', 'white', 'gray', 'static', 'switches', 'amanda', 'begins', 'struggle', 'like', 'madwoman', 'bonds', 'chair', 'camera', 'swings', 'around', 'circling', 'making', 'movements', 'fast', 'jerky', 'amanda', 'manages', 'pull', 'one', 'arm', 'free',
                                              'stands', 'quickly', 'cord', 'back', 'device', 'pulled', 'timer', 'starts', 'freezes', 'eyes', 'widening', 'see', 'closeup', 'timer', 'begins', 'sixty', 'second', 'countdown', 'reaches', 'behind', 'head', 'pulling', 'lock', 'timer', 'trying', 'pull', 'stuck', 'starts', 'freaking', 'pulling', 'much', 'camera', 'movements', 'fast', 'jerky', 'around', 'camera', 'spins', 'back', 'amanda', 'sitting', 'still', 'chair', 'interrogation', 'room', 'sniffling', 'see', 'brief', 'shot', 'lawrence', 'watches', 'listens', 'grim', 'amazement', 'back', 'amanda', 'congratulations', 'still', 'alive', 'people', 'ungrateful', 'alive', 'not', 'not', 'anymore', 'cut', 'back', 'close', 'amanda', 'interrogation', 'room', 'head', 'still', 'shaking', 'bit', 'almost', 'like', 'series', 'slight', 'spasms', 'continues', 'sniffle', 'eyes', 'far', 'cut', 'tapp', 'marks', 'spot', 'sometimes', 'see', 'eyes', 'shut', 'adam', 'best', 'hide', 'seen', 'looks', 'lawrence', 'hello', 'amanda', 'know', 'know', 'want', 'play', 'game', 'happens', 'lose', 'timer', 'back', 'device', 'wearing', 'timer', 'goes', 'mouth', 'permanently', 'ripped', 'open', 'background', 'station', 'hear', 'couple', 'detectives', 'talking', 'sing', 'walks', 'behind', 'tapp', 'desk', 'turns', 'watching', 'tapp', 'watch', 'screen', 'tapp', 'stops', 'rewinds', 'tape', 'think', 'like', 'reverse', 'bear', 'trap', 'tapp', 'fast', 'forwards', 'bit', 'hits', 'play', 'show', 'tapp', 'watches', 'closely', 'demonstration', 'timer', 'device', 'going', 'exploding', 'sing', 'watches', 'not', 'paying', 'close', 'attention', 'soon', 'explodes', 'sing', 'speaks', 'look', 'face', 'tone', 'voice', 'indicates', 'growing', 'concern', 'partner', 'obsession', 'case', 'one', 'key', 'stomach', 'dead', 'cellmate', 'stomach', 'dead', 'cellmate', 'tapp', 'fast', 'forwards', 'look', 'around', 'amanda', 'know', 'not', 'lying', 'better', 'hurry', 'awake', 'already', 'jeff', 'need', 'powerful', 'tranquilizers', 'next', 'time', 'cry', 'given', 'life', 'purpose', 'test', 'subject', 'something', 'greater', 'sing', 'cocks', 'shotgun', 'two', 'detectives', 'move', 'hiding', 'spot', 'aiming', 'weapons', 'jigsaw', 'make', 'choice', 'seconds', 'life', 'man', 'ended', 'one', 'key', 'unlock', 'box', 'time', 'running', 'important', 'officer', 'arresting', 'life', 'another', 'human', 'sing', 'keeps', 'trying', 'various', 'keys', 'tapp', 'goes', 'jigsaw', 'grabs', 'pushing', 'knees', 'jigsaw', 'keeps', 'arms', 'slightly', 'raised', 'yes', 'sick', 'officer', 'sick', 'disease', 'eating', 'away', 'inside', 'sick', 'people', 'appreciate', 'blessings', 'sick', 'scoff', 'suffering', 'others', 'sing', 'finally', 'whips', 'gun', 'shoots', 'drill', 'breaking', 'stopping', 'tapp', 'glances', 'briefly', 'distracted', 'gunfire', 'sick', 'cigarettes', 'harmless', 'promise', 'smoking', 'poisonous', 'ends', 'bloodshed', 'think', 'need', 'gun', 'kill', 'adam', 'think', 'thisyou', 'need', 'gun', 'kill', 'adam', 'much', 'poison', 'blood', 'thing', 'left', 'shoot', 'lawrence', 'looks', 'body', 'getting', 'idea', 'takes', 'cigarette', 'glances', 'adam', 'still', 'head', 'hands', 'dips', 'end', 'cigarette', 'blood', 'puts', 'back', 'box', 'starts', 'get', 'adam', 'looks', 'sees', 'standing', 'hello', 'hindle', 'called', 'around', 'hospital', 'zep', 'want', 'make', 'choice', 'slowacting', 'poison', 'coursing', 'system', 'antidote', 'murder', 'mother', 'child', 'save', 'listen', 'carefully', 'rules']}
        villains = [snowball, jigsaw]
        matched = sentiment_analyzer.get_matched_villain_test(
            self.user_data, villains)
        # Snowball : 0.91
        # Jigsaw : 0.89
        self.assertEqual(matched, 'Snowball')

    def test_get_mvti_type(self):
        mvti_type = sentiment_analyzer.get_mvti_type(self.user_data)
        self.assertEqual(mvti_type, 'PJTF')
